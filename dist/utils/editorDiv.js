const EditorDivFnc=e=>{let t=document.createElement("div");t.id="parent",t.contentEditable=!0,t.spellcheck=!1;let n="";t.addEventListener("keydown",(function(e){"Enter"===e.key&&e.preventDefault()})),t.addEventListener("keyup",(function(e){c()}));let o=["⁰","¹","²","³","⁴","⁵","⁶","⁷","⁸","⁹"],i=new Set(o);void 0===e.auto||e.auto;function c(e){let c=d(),l=t.textContent.split(""),u=e=>/\d/.test(e),s=e=>/[A-Za-z]/.test(e),a="";n=(()=>{let e=!1,t="",n="",c="",d="";return l.forEach(((r,f)=>{i.has(r)&&(r=o.findIndex((e=>e===r))),u(r)&&l[f-1]&&(s(l[f-1])||")"===l[f-1])&&(e=!0,n=d),(/[-+\(\)*]/.test(r)||s(r)&&l[f-1]&&u(l[f-1]))&&e&&(e=!1,d=n+c,n=""),e?(a+=r,c="<sup>"+a+"</sup>",t=n+c):(d+=r,a="",t="")})),""!==t&&(d=t,t="",a=""),d})(),t.innerHTML=n,r(c)}function d(){let e=0;if(void 0!==window.getSelection){if(0!==window.getSelection().rangeCount){const n=window.getSelection().getRangeAt(0),o=n.cloneRange();o.selectNodeContents(t),o.setEnd(n.endContainer,n.endOffset),e=o.toString().length}}return e}function r(e){if(e>=0){var n=window.getSelection(),o=function e(t,n,o){if(o||((o=document.createRange()).selectNode(t),o.setStart(t,0)),0===n.count)o.setEnd(t,n.count);else if(t&&n.count>0)if(t.nodeType===Node.TEXT_NODE)t.textContent.length<n.count?n.count-=t.textContent.length:(o.setEnd(t,n.count),n.count=0);else for(var i=0;i<t.childNodes.length&&(o=e(t.childNodes[i],n,o),0!==n.count);i++);return o}(t,{count:e});o&&(o.collapse(!1),n.removeAllRanges(),n.addRange(o))}}return{div:t,getHtmlForm:function(){return n},resetDiv:function(){t.innerHTML="",c()},setCaretPosition:r,displayDiv:c}};export{EditorDivFnc};